<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>KASM Virtual Desktop on EC2 Guide | DevOps FastPages</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="KASM Virtual Desktop on EC2 Guide" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Running Docker containers through KASM for added security" />
<meta property="og:description" content="Running Docker containers through KASM for added security" />
<link rel="canonical" href="https://tri3devopteam.github.io/devops/2023/04/13/kasmec2.html" />
<meta property="og:url" content="https://tri3devopteam.github.io/devops/2023/04/13/kasmec2.html" />
<meta property="og:site_name" content="DevOps FastPages" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-04-13T00:00:00-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="KASM Virtual Desktop on EC2 Guide" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-04-13T00:00:00-05:00","datePublished":"2023-04-13T00:00:00-05:00","description":"Running Docker containers through KASM for added security","headline":"KASM Virtual Desktop on EC2 Guide","mainEntityOfPage":{"@type":"WebPage","@id":"https://tri3devopteam.github.io/devops/2023/04/13/kasmec2.html"},"url":"https://tri3devopteam.github.io/devops/2023/04/13/kasmec2.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/devops/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://tri3devopteam.github.io/devops/feed.xml" title="DevOps FastPages" /><link rel="shortcut icon" type="image/x-icon" href="/devops/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/devops/">DevOps FastPages</a></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">KASM Virtual Desktop on EC2 Guide</h1><p class="page-description">Running Docker containers through KASM for added security</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2023-04-13T00:00:00-05:00" itemprop="datePublished">
        Apr 13, 2023
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      2 min read
    
</span></p>

    

    
      
        <div class="pb-5 d-flex flex-justify-center">
          <div class="px-2">

    <a href="https://github.com/Jyustin/tri-3-group-fastpages-devops-/tree/master/_notebooks/2023-4-1-kasmec2.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/devops/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/Jyustin/tri-3-group-fastpages-devops-/master?filepath=_notebooks%2F2023-4-1-kasmec2.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/devops/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/Jyustin/tri-3-group-fastpages-devops-/blob/master/_notebooks/2023-4-1-kasmec2.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/devops/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
          <div class="px-2">
  <a href="https://deepnote.com/launch?url=https%3A%2F%2Fgithub.com%2FJyustin%2Ftri-3-group-fastpages-devops-%2Fblob%2Fmaster%2F_notebooks%2F2023-4-1-kasmec2.ipynb" target="_blank">
      <img class="notebook-badge-image" src="/devops/assets/badges/deepnote.svg" alt="Launch in Deepnote"/>
  </a>
</div>

        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h1"><a href="#Single-Server-Installation">Single Server Installation </a></li>
<li class="toc-entry toc-h1"><a href="#Minimum-Requirements">Minimum Requirements </a></li>
<li class="toc-entry toc-h1"><a href="#Installation">Installation </a></li>
<li class="toc-entry toc-h1"><a href="#Swap-Partition">Swap Partition </a></li>
<li class="toc-entry toc-h1"><a href="#Login-Information">Login Information </a>
<ul>
<li class="toc-entry toc-h2"><a href="#KASM-Configurations">KASM Configurations </a></li>
<li class="toc-entry toc-h2"><a href="#IMPORTANT">IMPORTANT </a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#HACKS-FOR-KASM">HACKS FOR KASM </a></li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2023-4-1-kasmec2.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Single-Server-Installation">
<a class="anchor" href="#Single-Server-Installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Single Server Installation<a class="anchor-link" href="#Single-Server-Installation"> </a>
</h1>
<p>We will be going through the single server installation, as this is the most efficient method in terms of ease of deployment.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Minimum-Requirements">
<a class="anchor" href="#Minimum-Requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Minimum Requirements<a class="anchor-link" href="#Minimum-Requirements"> </a>
</h1>
<table>
<thead>
<tr>
<th>Minimum Requirements</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Memory</td>
<td>4 GB</td>
</tr>
<tr>
<td>CPU</td>
<td>2 cores</td>
</tr>
<tr>
<td>Storage</td>
<td>50 GB on SSD</td>
</tr>
</tbody>
</table>
<h1 id="Installation">
<a class="anchor" href="#Installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation<a class="anchor-link" href="#Installation"> </a>
</h1>
<p>Run the following in Terminal to Install:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">tmp</span>
<span class="n">curl</span> <span class="o">-</span><span class="n">O</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">kasm</span><span class="o">-</span><span class="n">static</span><span class="o">-</span><span class="n">content</span><span class="o">.</span><span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kasm_release_1</span><span class="o">.</span><span class="mf">12.0</span><span class="o">.</span><span class="n">d4fd8a</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="c1"># This is downloading the latest version of KASM workspaces to the /tmp folder.</span>
<span class="n">tar</span> <span class="o">-</span><span class="n">xf</span> <span class="n">kasm_release_1</span><span class="o">.</span><span class="mf">12.0</span><span class="o">.</span><span class="n">d4fd8a</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="c1"># This is extracting the package which was just downloaded.</span>
<span class="n">sudo</span> <span class="n">bash</span> <span class="n">kasm_release</span><span class="o">/</span><span class="n">install</span><span class="o">.</span><span class="n">sh</span>
<span class="c1"># The installation script is being run for KASM.</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Swap-Partition">
<a class="anchor" href="#Swap-Partition" aria-hidden="true"><span class="octicon octicon-link"></span></a>Swap Partition<a class="anchor-link" href="#Swap-Partition"> </a>
</h1>
<p>As recommended by KASM, a swap partition should be created for a smooth experience. Without a swap partition, a host with memory requirements being sufficiently met can meet stability problems.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If your PC does not have a swap file, you will need to create one immediately after installing KASM.</p>
<p>Run the following command in Terminal:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">sudo</span> <span class="n">bash</span> <span class="n">kasm_release</span><span class="o">/</span><span class="n">install</span><span class="o">.</span><span class="n">sh</span> <span class="o">--</span><span class="n">accept</span><span class="o">-</span><span class="n">eula</span> <span class="o">--</span><span class="n">swap</span><span class="o">-</span><span class="n">size</span> <span class="mi">4096</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Login-Information">
<a class="anchor" href="#Login-Information" aria-hidden="true"><span class="octicon octicon-link"></span></a>Login Information<a class="anchor-link" href="#Login-Information"> </a>
</h1>
<p>After the package for the latest version of KASM has been extracted to the right folder and a swap partition has been created, you can log into the web application. The web application runs on port 443 (though configurations can be altered to run on another port):</p>
<p>https://<webapp_server_name_here>&lt;/p&gt;
<p>You want to login with the Administrator account, which is defaulted to <strong>admin@kasm.local</strong> with randomly generated passwords. This will allow you to manage environments and workspaces.</p>

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="KASM-Configurations">
<a class="anchor" href="#KASM-Configurations" aria-hidden="true"><span class="octicon octicon-link"></span></a>KASM Configurations<a class="anchor-link" href="#KASM-Configurations"> </a>
</h2>
<p>Once you are logged in, you can change KASM configuration settings as an administrator by navigating to the "Settings" tab on the left side.</p>
<p>Here are all of the settings stored in server settings which you can research in your free time: <a href="https://kasmweb.com/docs/latest/guide/settings.html">https://kasmweb.com/docs/latest/guide/settings.html</a></p>
<p>Here, there are hundreds of settings which you can take a look at. Depending on the setting you are changing, you may need to restart ALL KASM services or certain individual services.</p>
<p>Take a look below for the commands for these service restarts:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">kasm</span><span class="o">/</span><span class="nb">bin</span> 
<span class="c1"># The opt directory is for all software and packages that are not installed by default on Linux. </span>
<span class="c1"># This makes sense, since we installed KASM separately.</span>

<span class="o">./</span><span class="n">stop</span> 
<span class="o">./</span><span class="n">start</span> 

<span class="c1"># All the services have been restarted.</span>


<span class="c1"># Restarting individual services on the server:</span>
<span class="n">sudo</span> <span class="n">docker</span> <span class="n">restart</span> <span class="n">kasm_agent</span>
<span class="n">sudo</span> <span class="n">docker</span> <span class="n">restart</span> <span class="n">kasm_api</span> 
<span class="n">sudo</span> <span class="n">docker</span> <span class="n">restart</span> <span class="n">kasm_manager</span>
<span class="n">sudo</span> <span class="n">docker</span> <span class="n">restart</span> <span class="n">kasm_db</span>
<span class="n">sudo</span> <span class="n">docker</span> <span class="n">restart</span> <span class="n">kasm_proxy</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="IMPORTANT">
<a class="anchor" href="#IMPORTANT" aria-hidden="true"><span class="octicon octicon-link"></span></a>IMPORTANT<a class="anchor-link" href="#IMPORTANT"> </a>
</h2>
<p>You should be able to run all of this in an ec2 instance on AWS and then be able to run docker images stored on your instance through KASM. However, storage on EC2 instances is limited. If you are able to run docker images on an ec2 instance with KASM, that would be really impressive.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="HACKS-FOR-KASM">
<a class="anchor" href="#HACKS-FOR-KASM" aria-hidden="true"><span class="octicon octicon-link"></span></a>HACKS FOR KASM<a class="anchor-link" href="#HACKS-FOR-KASM"> </a>
</h1>
<ol>
<li>
<p>In 3-4 sentences, please explain the significance of virtual desktops and KASM. How can virtual desktops such as these be utilized in our AP CSP environment? (0.45)</p>
</li>
<li>
<p>Attempt to work through the KASM setup with your team. Attach two screenshots to show that you have successfully gone through the setup: The first screenshot of KASM generating your credentials, and the second screenshot of the KASM workspace once you have logged in. (0.45)</p>
</li>
</ol>

</div>
</div>
</div>
&lt;/div&gt;
 

</webapp_server_name_here></p>
</div>
</div></div>
</div>


  </div><a class="u-url" href="/devops/2023/04/13/kasmec2.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/devops/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="https://tri3devopteam.github.io/devops/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/devops/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>An easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>
